<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="​        debug中的常用命令 g 加地址，直接跳转至此处，前面全部执行   u 将内存中的机器指令翻译成汇编指令  t 执行一条指令">
<meta property="og:type" content="article">
<meta property="og:title" content="汇编语言">
<meta property="og:url" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/index.html">
<meta property="og:site_name" content="fishjump&#39;s blog">
<meta property="og:description" content="​        debug中的常用命令 g 加地址，直接跳转至此处，前面全部执行   u 将内存中的机器指令翻译成汇编指令  t 执行一条指令">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230313180808.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230313181241.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230313182253.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230315004402.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230315004456.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230322200528.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230322202425.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230322203639.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230322204849.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330172558.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173053.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173151.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173536.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173606.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173835.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330175241.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330175446.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330172008.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230331013823.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402032439.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402032635.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402032834.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402032932.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402033501.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402034116.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402034837.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402034852.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402035632.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402040248.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230403170535.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230404195800.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230404195943.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230404221743.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406121332.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406122332.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406122516.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406123023.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406123128.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406123359.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406124107.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406124125.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406133522.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406134232.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406134301.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406171440.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406181600.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406181626.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406183935.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184037.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184052.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184255.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184459.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184609.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406185003.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406185033.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406200150.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406203439.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406212630.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406213552.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407135334.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407140044.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407181125.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407140951.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407162603.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407170452.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407172949.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407185352.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407185417.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407193620.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407194103.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407193938.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409205632.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409205749.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409205813.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409210214.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409210618.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409210754.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409231300.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230410205935.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230410205945.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230410220732.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230411145516.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230411145837.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230411122855.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/Untitled.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/Untitled2.png">
<meta property="og:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230412020235.png">
<meta property="article:published_time" content="2023-04-11T19:08:56.000Z">
<meta property="article:modified_time" content="2023-05-12T16:24:57.168Z">
<meta property="article:author" content="fishjump">
<meta property="article:tag" content="汇编">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230313180808.png">

<link rel="canonical" href="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>汇编语言 | fishjump's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="fishjump's blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">fishjump's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">fly,fly,fly</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/dog.jpg">
      <meta itemprop="name" content="fishjump">
      <meta itemprop="description" content="一万年太久，只争朝夕">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fishjump's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          汇编语言
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-04-12 03:08:56" itemprop="dateCreated datePublished" datetime="2023-04-12T03:08:56+08:00">2023-04-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-13 00:24:57" itemprop="dateModified" datetime="2023-05-13T00:24:57+08:00">2023-05-13</time>
              </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>26 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>​       </p>
<h1 id="debug中的常用命令"><a href="#debug中的常用命令" class="headerlink" title="debug中的常用命令"></a>debug中的常用命令</h1><ul>
<li><p>g 加地址，直接跳转至此处，前面全部执行 </p>
</li>
<li><p>u 将内存中的机器指令翻译成汇编指令</p>
</li>
<li><p>t 执行一条指令</p>
<span id="more"></span>
</li>
<li><p>r 查看寄存器中的值，同时显示出下一条要执行的指令，还可以改变寄存器中的内容，比如r ax，然后弹出冒号，输入即可</p>
</li>
<li><p>d 查看内存中的内容，d 段地址：偏移地址 (可以在此处加上想查看的范围，默认是128字节)，之后再按d显示后续内容</p>
</li>
<li><p>p 可以跳过loop循环</p>
</li>
<li><p>e 向内存单元写入命令，e 段地址:偏移地址 B8 01 00,即向该内存写入mov ax,1命令</p>
</li>
</ul>
<h1 id="第7章-更灵活的定位内存地址的方法"><a href="#第7章-更灵活的定位内存地址的方法" class="headerlink" title="第7章 更灵活的定位内存地址的方法"></a>第7章 更灵活的定位内存地址的方法</h1><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230313180808.png"></p>
<p>话不多说，直接上图，完成了任务。只不过忘掉了如何一次性执行完循环，一直t加回车，头皮发麻。这一题是让我们补充codesg段的代码，我们要灵活的利用栈来存储和释放cx</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230313181241.png"></p>
<p>s0处的push cx是将外层循环的cx值压入栈中，然后往下执行，mov cx,4设置内层循环次数，执行完4次s1后，此时的cx值为零，将之前cx的值弹出栈，恢复为3(即4-1)，然后往复执行。</p>
<h5 id="tips-快速结束循环"><a href="#tips-快速结束循环" class="headerlink" title="tips 快速结束循环"></a>tips 快速结束循环</h5><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230313182253.png"></p>
<p>再补充一个快速的指令 g 偏移地址，例如g 0012执行后，ip&#x3D;0012，从此处开始往下执行。</p>
<h1 id="第8章-数据处理的两个基本问题"><a href="#第8章-数据处理的两个基本问题" class="headerlink" title="第8章 数据处理的两个基本问题"></a>第8章 数据处理的两个基本问题</h1><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230315004402.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230315004456.png"></p>
<p>只有上述形式是是正确的，有个小要点，[bp]默认的段地址是ss。</p>
<h5 id="指令要处理的数据有多长"><a href="#指令要处理的数据有多长" class="headerlink" title="指令要处理的数据有多长"></a>指令要处理的数据有多长</h5><p>这是我们必须指出的，可以显性地指出也可以隐形的指出，比如在有寄存器名称的情况下我们可以判断出访问的是字单元还是字节单元，在没有寄存器参与的情况下用操作符X ptr指明长度。X为byte或word。对于push [1000]这样的指令则无需指明，因为push指令只进行字操作。</p>
<h3 id="实验-7"><a href="#实验-7" class="headerlink" title="实验 7"></a>实验 7</h3><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230322200528.png"></p>
<p>废了九牛二虎之力终于用比较朴素的方法实现了。遇到了不少问题，其中最主要的两个是：</p>
<ol>
<li>error A2052: Improper operand type</li>
<li>g命令之后卡死</li>
</ol>
<p>第一个在经过Google之后找到了解答<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230322202425.png"></p>
<p>我记得这一点书上好像提到过，给忘掉了，真是一头雾水</p>
<p>第二个问题，算是摸索着解开了疑惑，网上说有三种情况，1.代码段没加mov ax,4c00h 2.重启解决 3.代码导致g命令出错</p>
<p>我的情况应该是属于第三种，因为我按自己的想法写的时候，寻址方式比较奇怪。比如说我成功之前的那一次</p>
<h5 id="疑惑"><a href="#疑惑" class="headerlink" title="疑惑"></a>疑惑</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">div word ptr [bx].0Ah//g命令后卡死，虽然这两处的值不相同，但按道理来说结果会出错，不应该出现程序卡死，此处存有疑惑</span><br><span class="line">div word ptr [bx+0ah]//也不可行</span><br><span class="line">div word ptr es:[bx+0ah]//成功，上边的错误在于忘记了要标明es段，可是有一点存疑，就算用的是ds段地址，那同样也能读取数据，为什么会卡死呢？？？？？</span><br><span class="line">div word ptr [168+si]//正确</span><br></pre></td></tr></table></figure>

<h5 id="寻址方式小结"><a href="#寻址方式小结" class="headerlink" title="寻址方式小结"></a>寻址方式小结</h5><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230322203639.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg                        //写的比较朴实，可能有较多重复的步骤，也可以一次循环填充一行中的所有信息，然后循环</span><br><span class="line">data segment                            //21次即可</span><br><span class="line">db &#x27;1975&#x27;,&#x27;1976&#x27;,&#x27;1977&#x27;,&#x27;1978&#x27;,&#x27;1979&#x27;,&#x27;1980&#x27;,&#x27;1981&#x27;,&#x27;1982&#x27;,&#x27;1983&#x27;</span><br><span class="line">db &#x27;1984&#x27;,&#x27;1985&#x27;,&#x27;1986&#x27;,&#x27;1987&#x27;,&#x27;1988&#x27;,&#x27;1989&#x27;,&#x27;1990&#x27;,&#x27;1991&#x27;,&#x27;1992&#x27;</span><br><span class="line">db &#x27;1993&#x27;,&#x27;1994&#x27;,&#x27;1995&#x27;</span><br><span class="line"></span><br><span class="line">dd 16,22,382,1356,2390,8000,16000,24486,50065,97479,140417,197514</span><br><span class="line">dd 345980,590827,803530,1183000,1843000,2759000,375000,4649000,5937000</span><br><span class="line"></span><br><span class="line">dw 3,7,9,13,28,38,130,220,476,778,1001,1442,2258,2793,4037,5635,8226</span><br><span class="line">dw 11542,14430,15257,17800</span><br><span class="line"></span><br><span class="line">data ends</span><br><span class="line">table segment</span><br><span class="line">db 21 dup(&#x27;year sumn ne ?? &#x27;)</span><br><span class="line">table ends</span><br><span class="line">codesg segment</span><br><span class="line">   start:mov ax,data</span><br><span class="line">         mov ds,ax</span><br><span class="line">         mov ax,table</span><br><span class="line">         mov es,ax</span><br><span class="line">         mov bx,0</span><br><span class="line">         mov si,0</span><br><span class="line">         mov cx,21</span><br><span class="line">     s0: mov ax,[si]                       </span><br><span class="line">         mov es:[bx],ax</span><br><span class="line">         add si,2</span><br><span class="line">         mov ax,[si]</span><br><span class="line">         mov es:[bx+2],ax</span><br><span class="line">         add si,2</span><br><span class="line">         add bx,16                                </span><br><span class="line">         loop s0</span><br><span class="line">         mov bx,0</span><br><span class="line">         mov si,0</span><br><span class="line">         mov cx,21</span><br><span class="line">     s1: mov ax,[84+si]                          </span><br><span class="line">         mov es:[bx+5],ax              </span><br><span class="line">         add si,2</span><br><span class="line">         mov ax,[84+si]</span><br><span class="line">         mov es:[bx+5+2],ax</span><br><span class="line">         add si,2</span><br><span class="line">         add bx,16                             </span><br><span class="line">         loop s1</span><br><span class="line">         mov bx,0</span><br><span class="line">         mov si,0</span><br><span class="line">         mov cx,21</span><br><span class="line">     s2: mov ax,[168+si]                         </span><br><span class="line">         mov es:[bx+0Ah],ax</span><br><span class="line">         add bx,16</span><br><span class="line">         add si,2</span><br><span class="line">         loop s2</span><br><span class="line">         mov bx,0</span><br><span class="line">         mov si,0</span><br><span class="line">         mov cx,21</span><br><span class="line">     s3: mov ax,es:[bx+5]</span><br><span class="line">         mov dx,es:[bx+5+2]</span><br><span class="line">         div word ptr [168+si]</span><br><span class="line">         mov es:[bx+0Dh],ax</span><br><span class="line">         add si,2</span><br><span class="line">         add bx,16</span><br><span class="line">         loop s3</span><br><span class="line">         mov ax,4c00h</span><br><span class="line">         int 21h</span><br><span class="line"></span><br><span class="line">codesg ends</span><br><span class="line">end start      </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>通过这次的实验知识发现了不少短板，hhh或者说全是短板哈哈哈哈，很多基础的东西打的不是很牢固，比如说高低字节，高低位</p>
<h5 id="高低字节，高低位"><a href="#高低字节，高低位" class="headerlink" title="高低字节，高低位"></a>高低字节，高低位</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">对于 <span class="number">1234</span>h这个十六进制数来说，其高字节是<span class="number">12</span>，低字节是<span class="number">34</span></span><br><span class="line">我们平时接触小端序比较多，那么高字节<span class="number">12</span>存放在高地址单元中，低字节<span class="number">34</span>存放在低地址单元中</span><br></pre></td></tr></table></figure>

<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230322204849.png"></p>
<p>如果我们进行div word ptr ds:0操作，那么处理的也就是0、1这两个内存单元组成的数1234h。</p>
<h1 id="第九章-转移指令的原理"><a href="#第九章-转移指令的原理" class="headerlink" title="第九章 转移指令的原理"></a>第九章 转移指令的原理</h1><h2 id="操作符offeset"><a href="#操作符offeset" class="headerlink" title="操作符offeset"></a>操作符offeset</h2><p>offeset在汇编语言中是由编译器处理的符号，它的功能是取得标号处的偏移地址<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330172558.png"></p>
<h2 id="转移指令"><a href="#转移指令" class="headerlink" title="转移指令"></a>转移指令</h2><h3 id="jmp指令"><a href="#jmp指令" class="headerlink" title="jmp指令"></a>jmp指令</h3><p>CPU在执行jmp指令的时候不需要转移的目的地址，需要的是位移量。<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173053.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173151.png"></p>
<h4 id="转移的目的地址在指令中的jmp指令"><a href="#转移的目的地址在指令中的jmp指令" class="headerlink" title="转移的目的地址在指令中的jmp指令"></a>转移的目的地址在指令中的jmp指令</h4><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173536.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173606.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330173835.png"></p>
<p>可以看到，这里是通过目的地址而非位移量进行转移的</p>
<h4 id="转移地址在内存中的jmp指令"><a href="#转移地址在内存中的jmp指令" class="headerlink" title="转移地址在内存中的jmp指令"></a>转移地址在内存中的jmp指令</h4><p>jmp word ptr 内存单元地址（段内转移）</p>
<p>jmp dword ptr 内存段地址（段间转移）</p>
<p>对于段间转移 （CS）&#x3D;（内存单元地址+2），</p>
<p>​                        （IP） &#x3D;（内存单元地址）</p>
<h3 id="jcxz指令"><a href="#jcxz指令" class="headerlink" title="jcxz指令"></a>jcxz指令</h3><p>有条件的段间转移，有条件转移都是段间的，在对应的机器码中包含位移而不是地址。当cx&#x3D;&#x3D;0的时候执行跳转，cx!&#x3D;0时直接执行下一条语句<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330175241.png"></p>
<h3 id="loop指令"><a href="#loop指令" class="headerlink" title="loop指令"></a>loop指令</h3><p>循环指令都是段指令，对应的机器码中包含位移地址而不是目的地址<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330175446.png"></p>
<h2 id="实验八-分析一个奇怪的程序"><a href="#实验八-分析一个奇怪的程序" class="headerlink" title="实验八 分析一个奇怪的程序"></a>实验八 分析一个奇怪的程序</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg</span><br><span class="line">codesg segment</span><br><span class="line">       mov ax,4c00h</span><br><span class="line">       int 21h</span><br><span class="line">start:</span><br><span class="line">       mov ax,0</span><br><span class="line">s:     nop</span><br><span class="line">       nop</span><br><span class="line">       mov di,offset s</span><br><span class="line">       mov si,offset s2</span><br><span class="line">       mov ax,cs:[si]</span><br><span class="line">       mov cs:[di],ax</span><br><span class="line">s0: jmp short s</span><br><span class="line">s1: mov ax,0</span><br><span class="line">       int 21h</span><br><span class="line">       mov ax,0</span><br><span class="line">s2: jmp short s1</span><br><span class="line">       nop</span><br><span class="line">codesg ends</span><br><span class="line">       end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>虽然看着是挺奇怪的，s的操作就是使s处的命令变为s2处的命令，即跳转到s1，很显然mov ax,0这里不满足让程序正确返回，用debug的t命令进行调试，可以成功运行，我们知道jup命令是不带有目标位置的地址的，它含有一个偏移地址，s2处的jump short s1的机器码是EB F6,F6就是偏移地址1111 0110补码表示-10，-10含义是标号处的地址-jmp指令后的第一个字节的地址，也就是从mov di,offset s位置前移十个字节，正好到达mov ax,4c00h int 21h，程序得以成功返回</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230330172008.png"></p>
<h2 id="实验九"><a href="#实验九" class="headerlink" title="实验九"></a>实验九</h2><p>将’welcome to masm!’正好16个字符，填入第11、12、13行</p>
<p>绿色属性 0 000 0 010B                 02h</p>
<p>绿底红字属性  0 010 0 100B         24h</p>
<p>白底蓝色属性 0 111 0 001B          71h</p>
<p>经过不懈的努力终于是搞好了，困住我的主要有两点，其一是对字，字节，寄存器不敏感，对于传输字和字节有点生疏。其二就是让我崩溃的东西，题目要求是打印在中间，我一想80个字符位，左边空出32，右边空出32中间正好留下16，然后左边的32x2&#x3D;64，有因为是从零开始，所以这边我们第一个填充的位置就是64呀，当成了63操作，结果是真抽象，还好最后一试，将welcome全部改成了11111，打印出来发现全部是同一个颜色的符号，也就是说我的颜色就然和字符与关，果断想到填充错了位置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg,ds:data</span><br><span class="line">data segment</span><br><span class="line">  db &#x27;welcome to masm!&#x27;</span><br><span class="line">data ends</span><br><span class="line">codesg segment</span><br><span class="line">start:mov ax,data</span><br><span class="line">      mov ds,ax</span><br><span class="line">      mov di,0</span><br><span class="line">      mov cx,16</span><br><span class="line">      mov bx,0</span><br><span class="line">      mov ax,0B800h</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov si,06e0h</span><br><span class="line">      mov ah,02h</span><br><span class="line">   s0:mov al,ds:[di]</span><br><span class="line">      mov es:[bx+si+64],al</span><br><span class="line">      mov es:[bx+si+65],ah</span><br><span class="line">      add bx,2</span><br><span class="line">      add di,1</span><br><span class="line">      loop s0</span><br><span class="line">      mov ax,0B800h</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov di,0</span><br><span class="line">      mov bx,0</span><br><span class="line">      mov si,780h</span><br><span class="line">      mov cx,16</span><br><span class="line">   s1:mov al,ds:[di]</span><br><span class="line">      mov es:[bx+si+64],al</span><br><span class="line">      mov al,24h</span><br><span class="line">      mov es:[bx+si+65],al</span><br><span class="line">      add bx,2</span><br><span class="line">      inc di</span><br><span class="line">      loop s1</span><br><span class="line">      mov ax,0B800h</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov bx,0</span><br><span class="line">      mov di,0</span><br><span class="line">      mov si,820h</span><br><span class="line">      mov cx,16</span><br><span class="line">   s2:mov al,ds:[di]</span><br><span class="line">      mov es:[bx+si+64],al</span><br><span class="line">      mov al,71h</span><br><span class="line">      mov es:[bx+si+65],al</span><br><span class="line">      add bx,2</span><br><span class="line">      inc di</span><br><span class="line">      loop s2</span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">codesg ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230331013823.png"></p>
<h1 id="第十章-CALL指令和RET指令"><a href="#第十章-CALL指令和RET指令" class="headerlink" title="第十章 CALL指令和RET指令"></a>第十章 CALL指令和RET指令</h1><h2 id="ret和retf"><a href="#ret和retf" class="headerlink" title="ret和retf"></a>ret和retf</h2><p>ret指令只修改ip的内容，实现近迁移，retf应该就是ret far的意思，同时修改cs和ip中的内容，实现远迁移。<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402032439.png"></p>
<p>用汇编语言解释</p>
<p>ret：POP IP</p>
<p>retf：POP IP ,POP CS</p>
<h2 id="CALL指令"><a href="#CALL指令" class="headerlink" title="CALL指令"></a>CALL指令</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402032635.png"></p>
<h3 id="依据位迁移进行转移的call指令"><a href="#依据位迁移进行转移的call指令" class="headerlink" title="依据位迁移进行转移的call指令"></a>依据位迁移进行转移的call指令</h3><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402032834.png"></p>
<p>下面程序执行后，ax的值</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402032932.png"></p>
<p>读取过call s指令后，ip中的值自动增加（第二章 28页），变为6，call指令相当于push ip，s处是pop ax，所以ax的值为6。</p>
<h3 id="转移的目的地址在指令中的call指令"><a href="#转移的目的地址在指令中的call指令" class="headerlink" title="转移的目的地址在指令中的call指令"></a>转移的目的地址在指令中的call指令</h3><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402033501.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402034116.png"></p>
<h3 id="转移地址在寄存器中的call指令"><a href="#转移地址在寄存器中的call指令" class="headerlink" title="转移地址在寄存器中的call指令"></a>转移地址在寄存器中的call指令</h3><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402034837.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402034852.png"></p>
<p>bp的默认段地址是ss</p>
<h3 id="转移地址在内存中的call指令"><a href="#转移地址在内存中的call指令" class="headerlink" title="转移地址在内存中的call指令"></a>转移地址在内存中的call指令</h3><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402035632.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230402040248.png"></p>
<p>回顾一下jump dword ptr 内存单元地址 </p>
<p>CS&#x3D;（内存单元地址+2）</p>
<p>IP&#x3D;（内存单元地址）</p>
<h2 id="mul指令"><a href="#mul指令" class="headerlink" title="mul指令"></a>mul指令</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230403170535.png"></p>
<h2 id="实验-10-编写子程序"><a href="#实验-10-编写子程序" class="headerlink" title="实验 10 编写子程序"></a>实验 10 编写子程序</h2><p>1.显示字符串</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code,ss:stack</span><br><span class="line">data segment</span><br><span class="line">db&#x27;welcome to masm!&#x27;,0</span><br><span class="line">data ends</span><br><span class="line">stack segment</span><br><span class="line">db 8 dup (0)</span><br><span class="line">stack ends</span><br><span class="line">code segment</span><br><span class="line">start:mov dh,8 ;传参 8行 3列 绿色</span><br><span class="line">      mov dl,3</span><br><span class="line">      mov cl,2</span><br><span class="line">      mov ax,data</span><br><span class="line">      mov ds,ax</span><br><span class="line">      mov si,0</span><br><span class="line">      call show_str</span><br><span class="line"></span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">show_str:</span><br><span class="line">      sub dh,1;这里注意000是第一行开始，160是第2行开始</span><br><span class="line">      mov al,160</span><br><span class="line">      mul dh;存入的数据是7*160，即第八行开始</span><br><span class="line">      mov bx,ax</span><br><span class="line">      mov dh,0</span><br><span class="line">      add bx,dx</span><br><span class="line">      add bx,dx;这里实现列数，注意两个字节表一个字符，所以我们加两次即加6</span><br><span class="line">      mov ax,0b800h</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov al,cl</span><br><span class="line">    s:mov cl,[si]</span><br><span class="line">      mov ch,0</span><br><span class="line">      jcxz ok;如果是结束字符0，则跳转回去</span><br><span class="line">      mov es:[bx],cl</span><br><span class="line">      mov es:[bx+1],al</span><br><span class="line">      inc si</span><br><span class="line">      add bx,2</span><br><span class="line">      jmp short s</span><br><span class="line">      </span><br><span class="line">ok:   ret</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<p>由于粗心出现了一个警告 missing data：zero assume，提醒我们缺少操作数</p>
<p>把add bx,dx写成了add bx,dx</p>
<p>2.解决除法的溢出问题</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230404195800.png"></p>
<p>给出了一个提示</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230404195943.png"></p>
<p>65536是十六进制的1 0000也就是将得到的数左移四个16进制位呗，我们可以直接把int(H&#x2F;N)的内容直接放入dx中，然后把后面的整体装入ax中，把后面整体产生的余数装入cx中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code,ss:stack</span><br><span class="line">stack segment</span><br><span class="line">dw 8 dup (0)</span><br><span class="line">stack ends</span><br><span class="line"></span><br><span class="line">code segment</span><br><span class="line">start:mov ax,stack</span><br><span class="line">      mov ss,ax</span><br><span class="line">      mov sp,10h</span><br><span class="line">      mov ax,4240h</span><br><span class="line">      mov dx,000fh</span><br><span class="line">      mov cx,0ah</span><br><span class="line">      call divdw</span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">divdw:push ax</span><br><span class="line">      push dx</span><br><span class="line">      mov bx,ax</span><br><span class="line">      mov dx,0</span><br><span class="line">      pop ax</span><br><span class="line">      div cx</span><br><span class="line">      push ax;商</span><br><span class="line">      push dx;余</span><br><span class="line">      mov ax,bx</span><br><span class="line">      div cx</span><br><span class="line">      mov cx,dx</span><br><span class="line">      pop dx</span><br><span class="line">      pop dx</span><br><span class="line">      pop si;它存在的意义是把栈清理到只剩一个，以便使下面的ret成功返回</span><br><span class="line">      ret    ;前面哪些部分其实可以不使用栈，此题占用的寄存器不多</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230404221743.png"></p>
<p>3.数值显示将二进制转化为十进制</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">data segment</span><br><span class="line"> db 10 dup (10)</span><br><span class="line"> data ends</span><br><span class="line"></span><br><span class="line">code segment </span><br><span class="line">start:mov ax,12666</span><br><span class="line">      mov bx,data</span><br><span class="line">      mov ds,bx</span><br><span class="line">      mov si,0</span><br><span class="line">      call dtoc</span><br><span class="line"></span><br><span class="line">      mov dh,8</span><br><span class="line">      mov dl,3</span><br><span class="line">      mov cl,2</span><br><span class="line">      call show_str</span><br><span class="line"></span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line"> </span><br><span class="line"> dtoc:mov dx,0</span><br><span class="line">      mov bx,10</span><br><span class="line">      div bx;余数在dx，商在ax</span><br><span class="line">      mov cx,ax</span><br><span class="line">      add dx,30h</span><br><span class="line">      mov [si],dl;存放余数的ascii</span><br><span class="line">      inc si;表示位数</span><br><span class="line">      jcxz short s1</span><br><span class="line">      jmp short dtoc</span><br><span class="line">   s1:ret</span><br><span class="line">show_str:</span><br><span class="line">      sub dh,1</span><br><span class="line">      mov al,160</span><br><span class="line">      mul dh</span><br><span class="line">      mov bx,ax</span><br><span class="line">      mov dh,0</span><br><span class="line">      add bx,dx</span><br><span class="line">      add bx,dx</span><br><span class="line">      mov ax,0b800h</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov al,cl</span><br><span class="line">    s:mov cl,[-1+si];66621</span><br><span class="line">      mov ch,0</span><br><span class="line">      ;jcxz ok 如果不注释掉的话，以零结尾的数将无法显示</span><br><span class="line">      mov es:[bx],cl</span><br><span class="line">      mov es:[bx+1],al</span><br><span class="line">      sub si,1</span><br><span class="line">      mov cx,si</span><br><span class="line">      jcxz short ok</span><br><span class="line">      add bx,2</span><br><span class="line">      jmp short s</span><br><span class="line">ok:   ret</span><br><span class="line"></span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<p>感谢这位博主：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_60829702/article/details/123582250">https://blog.csdn.net/qq_60829702/article/details/123582250</a></p>
<h1 id="第十一章-标志寄存器"><a href="#第十一章-标志寄存器" class="headerlink" title="第十一章 标志寄存器"></a>第十一章 标志寄存器</h1><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406121332.png"></p>
<h2 id="ZF-标志"><a href="#ZF-标志" class="headerlink" title="ZF 标志"></a>ZF 标志</h2><p>记录相关指令执行后结果是否为零，如果为零则ZF为1，如果非零则ZF为0。</p>
<h2 id="PF-标志"><a href="#PF-标志" class="headerlink" title="PF 标志"></a>PF 标志</h2><p>记录执行相关指令后，结果的所有bit位1的个数是否为偶数，如果1的数量是偶数，则PF为1.</p>
<h2 id="SF-标志"><a href="#SF-标志" class="headerlink" title="SF 标志"></a>SF 标志</h2><p>记录执行相关指令后，结果是否为负，如果结果为负，则SF为1.</p>
<h2 id="CF-标志"><a href="#CF-标志" class="headerlink" title="CF 标志"></a>CF 标志</h2><p>在进行无符号运算时，它记录进位和借位情况</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406122332.png"></p>
<p>进位比较好理解，下面看一下借位</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406122516.png"></p>
<h2 id="OF-标志"><a href="#OF-标志" class="headerlink" title="OF 标志"></a>OF 标志</h2><p>进行有符号运算是否发生溢出，如果溢出则OF为1.<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406123023.png"></p>
<h2 id="adc-指令"><a href="#adc-指令" class="headerlink" title="adc 指令"></a>adc 指令</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406123128.png"></p>
<p>这个指令乍一看很奇怪，很多余，为什么要加上一个cf？但是看了下面的解释之后，我直呼巧妙</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406123359.png"></p>
<p>adc也会对CF位进行设置，由于这样的功能，我们可以对任意大的数据进行加法运算。</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406124107.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406124125.png"></p>
<h2 id="sbb-指令"><a href="#sbb-指令" class="headerlink" title="sbb 指令"></a>sbb 指令</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406133522.png"></p>
<h2 id="cmp-指令"><a href="#cmp-指令" class="headerlink" title="cmp 指令"></a>cmp 指令</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406134232.png"></p>
<p>可以通过标志寄存器中的值得出比较结果<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406134301.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406171440.png"></p>
<p>这里有点疑惑的，为什么实际结果为负，且发生了溢出，就可以推出实际结果为正。溢出，有正溢出和负溢出。正溢出就是两个正数相加，超过了能表示的最大范围，变为负数，负溢出就是两个负数相加，超出了能表示的最小范围，变为正数。举个例子：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">拿四位有符号数来举例</span><br><span class="line"><span class="attribute">MAX</span>==0111==7</span><br><span class="line"><span class="attribute">MIN</span>==1000==-8</span><br><span class="line">正溢出0111+<span class="attribute">0111</span>==1110(补码)==-2</span><br><span class="line">负溢出1000+<span class="attribute">1000</span>==10000截断最高位==0000两个负数相加结果为0</span><br></pre></td></tr></table></figure>

<p>好的疑惑消失了。</p>
<h2 id="检测比较结果的条件转移指令"><a href="#检测比较结果的条件转移指令" class="headerlink" title="检测比较结果的条件转移指令"></a>检测比较结果的条件转移指令</h2><p>这些指令往往和cmp搭配使用，因为cmp可以同时进行两种比较，无符号数比较和有符号数比较。<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406181600.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406181626.png"></p>
<h2 id="DF标志和串传送指令"><a href="#DF标志和串传送指令" class="headerlink" title="DF标志和串传送指令"></a>DF标志和串传送指令</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406183935.png"></p>
<p>串传送指令：movsb，实现传送一个字节，movsw实现传送一个字</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184037.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184052.png"></p>
<p>movsb一般和rep搭配使用</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184255.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184459.png"></p>
<h2 id="pushf-和-popf"><a href="#pushf-和-popf" class="headerlink" title="pushf 和 popf"></a>pushf 和 popf</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406184609.png"></p>
<p>push 和 pop显然不能进行这些操作，他两个的操作对象是字而不是bit。</p>
<h2 id="标志寄存器在Debug中的表示"><a href="#标志寄存器在Debug中的表示" class="headerlink" title="标志寄存器在Debug中的表示"></a>标志寄存器在Debug中的表示</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406185003.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406185033.png"></p>
<h2 id="实验-11-编写子程序"><a href="#实验-11-编写子程序" class="headerlink" title="实验 11 编写子程序"></a>实验 11 编写子程序</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406200150.png"></p>
<p>我们分析一下题目，以0结尾，我们可以通过cx实现自动循环。</p>
<p>难点在于我们如何识别出是小写字符a<del>z，应该是通过ASCII（97</del>122）判断，如果ascii在这个区间，那么我们就通过and 1101 1111将第6位置零，如果不在此区间，那么直接下一个。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg</span><br><span class="line">datasg segment</span><br><span class="line">  db &quot;Beginner&#x27;s All-purpose Symbolic Instruction Code.&quot;,0</span><br><span class="line">data ends</span><br><span class="line">codesg segment</span><br><span class="line">begin:mov ax,datasg</span><br><span class="line">      mov ds,ax</span><br><span class="line">      mov si,0</span><br><span class="line">      call letterc</span><br><span class="line"></span><br><span class="line">      mov ax,4cooh</span><br><span class="line">      int 21h</span><br><span class="line"></span><br><span class="line">letterc:</span><br><span class="line">s0   :mov cl,[si]</span><br><span class="line">      mov ch,0</span><br><span class="line">      jcxz then</span><br><span class="line">      cmp cl,97</span><br><span class="line">      jb over;如果小于97，进行下一个字符</span><br><span class="line">      cmp cl,122;如果大于122，进行下一个</span><br><span class="line">      ja over</span><br><span class="line">      and cl,11011111b;如果在区间内则</span><br><span class="line">      mov [si],cl</span><br><span class="line">over :inc si</span><br><span class="line">      jmp s0</span><br><span class="line">then :ret</span><br><span class="line">codesg ends</span><br><span class="line">end begin</span><br></pre></td></tr></table></figure>

<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406203439.png"></p>
<p>运行完我们使用d命令进行检测，全部都是大写，成功。</p>
<h1 id="第十二章-内中断"><a href="#第十二章-内中断" class="headerlink" title="第十二章  内中断"></a>第十二章  内中断</h1><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406212630.png"></p>
<h2 id="内中断的产生"><a href="#内中断的产生" class="headerlink" title="内中断的产生"></a>内中断的产生</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230406213552.png"></p>
<p>有四种中断源，前三个看不懂，但是最后这个int很熟悉，我们可以推测一下，int 21，21这个中断类型码代表的就是结束程序。CPU通过中断类型码来识别中断信息的来源。</p>
<h2 id="中断过程"><a href="#中断过程" class="headerlink" title="中断过程"></a>中断过程</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407135334.png"></p>
<p>1.取得中断类型码</p>
<p>2.标志寄存器入栈</p>
<p>3.设置标志寄存器</p>
<p>4.CS的内容入栈</p>
<p>5.IP的内容入栈</p>
<p>6.读取入口地址</p>
<h2 id="中断处理程序和iret指令"><a href="#中断处理程序和iret指令" class="headerlink" title="中断处理程序和iret指令"></a>中断处理程序和iret指令</h2><p>中断处理程序是存储在内存某段空间之中的，因为CPU随时都可能执行中断处理程序。中断处理程序的入口地址，即中断向量，必须存储在对应的中断向量表中。<img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407140044.png"></p>
<p>iret指令相较于ret指令多了一步，让标志寄存器出栈</p>
<p>pop IP</p>
<p>pop CS</p>
<p>popf</p>
<h2 id="向量表"><a href="#向量表" class="headerlink" title="向量表"></a>向量表</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407181125.png"></p>
<h2 id="实验-12-编写0号中断的处理程序"><a href="#实验-12-编写0号中断的处理程序" class="headerlink" title="实验 12 编写0号中断的处理程序"></a>实验 12 编写0号中断的处理程序</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407140951.png"></p>
<p>要点：1.中断处理程序一般存储在0000：0200~0000：02ff这256个字节中。</p>
<p>​            2.显示缓冲区 以B8000开始 25x80，25行80列，一列160个字节，两个字节显示一个字</p>
<p>​            3.我们想要现实的字符串，不能刚开始就存放在data段中，因为这个程序执行完之后，它所占用的内存空间被系统释放，在其中存放的字符串很可能会被别的信息覆盖，所以我们将字符串放置在do0程序中</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d<span class="meta">o0</span>安装程序  将d<span class="meta">o0</span>的内容放在以<span class="number">0000</span>：<span class="number">0200</span>开头的那段空间中</span><br><span class="line">设置中断向量表 将中断类型码<span class="number">0</span>对应的中断向量表改为d<span class="meta">o0</span>程序的起始地址 注意第一个字节是偏移地址，第二个字节是段地址</span><br><span class="line">d<span class="meta">o0</span>程序 实现功能</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">start:;do0安装程序</span><br><span class="line">      mov ax,cs    </span><br><span class="line">      mov ds,ax    ;设置ds：si指向源地址（do0）</span><br><span class="line">      mov si,offset do0;刚开始忘了设置si了，导致源地址指向了向量表</span><br><span class="line">      mov ax,0</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov di,200h  ;设置es：di指向目的地址</span><br><span class="line">      </span><br><span class="line">      mov cx,offset do0end-do0</span><br><span class="line">      cld          ;设置传输方向为正</span><br><span class="line">      rep movsb    ;逐字节传输</span><br><span class="line">      </span><br><span class="line">      ;设置中断向量表</span><br><span class="line">      mov ax,0</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov word ptr es:[0],200h;通用的格式是[n*4]</span><br><span class="line">      mov word ptr es:[2],0</span><br><span class="line">      ;检测程序</span><br><span class="line">      mov ax,1000h</span><br><span class="line">      mov bh,1</span><br><span class="line">      div bh</span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">  do0:jmp short do0start</span><br><span class="line">      db &quot;divide erro!&quot;</span><br><span class="line">do0start:</span><br><span class="line">      mov ax,cx</span><br><span class="line">      mov ds,ax</span><br><span class="line">      mov si,202h      ;设置es:di指向字符串，刚开始的jmp指令长度为两个字节</span><br><span class="line">      mov ax,0b800h</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov di,12*160+36*2 ;第十三行，第36列</span><br><span class="line">      mov cx,12       ;cx为字符串长度</span><br><span class="line">   s: mov al,[si]</span><br><span class="line">      mov es:[di],al</span><br><span class="line">      mov es:[di+1],7ch</span><br><span class="line">      inc si</span><br><span class="line">      add di,2</span><br><span class="line">      loop s</span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">do0end:nop</span><br><span class="line">code ends</span><br><span class="line">end start</span><br><span class="line">      </span><br><span class="line">      </span><br></pre></td></tr></table></figure>

<h1 id="第十三章-int-指令"><a href="#第十三章-int-指令" class="headerlink" title="第十三章 int 指令"></a>第十三章 int 指令</h1><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407162603.png"></p>
<h2 id="BIOS和DOS所提供的中断例程"><a href="#BIOS和DOS所提供的中断例程" class="headerlink" title="BIOS和DOS所提供的中断例程"></a>BIOS和DOS所提供的中断例程</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407170452.png"></p>
<h2 id="实验-13-编写、应用中断例程"><a href="#实验-13-编写、应用中断例程" class="headerlink" title="实验 13 编写、应用中断例程"></a>实验 13 编写、应用中断例程</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407172949.png"></p>
<p>这一题应该可以调用int 10的9号子程序吧，搭配2号子程序设置光标，但是9号子程序的结束标志是‘$’，看来是想让我们自己实现。</p>
<p>在网上看到了一种方法，先把安装程序执行，在运行测试程序，只要不重启DOSBox，就会保存我们设置的中断例程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">;编写安装程序</span><br><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">start:mov ax,cs</span><br><span class="line">      mov ds,ax</span><br><span class="line">      mov si,offset ins             ;设置ds:si指向源程序</span><br><span class="line">      mov ax,0</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov di,200h                   ;设置es:di指向目的地址</span><br><span class="line">      mov cx，offset insends-0ffset ins      ;传输长度</span><br><span class="line">      cld                            ;正向传输</span><br><span class="line">      rep mobsb</span><br><span class="line">      ;设置中断向量表</span><br><span class="line">      mov ax,0</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov word ptr es:[7ch*4],200h     ;两个字节存一个地址 高地址存段 低地址存偏移</span><br><span class="line">      mov word ptr es:[ych*4+2],0</span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">  ins:sub dh,1;这里注意000是第一行开始，160是第2行开始</span><br><span class="line">      mov al,160</span><br><span class="line">      mul dh;存入的数据是7*160，即第八行开始</span><br><span class="line">      mov bx,ax</span><br><span class="line">      mov dh,0</span><br><span class="line">      add bx,dx</span><br><span class="line">      add bx,dx;这里实现列数，注意两个字节表一个字符，所以我们加两次即加6</span><br><span class="line">      mov ax,0b800h</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov al,cl</span><br><span class="line">    s:mov cl,[si]</span><br><span class="line">      mov ch,0</span><br><span class="line">      jcxz ok;如果是结束字符0，则跳转回去</span><br><span class="line">      mov es:[bx],cl</span><br><span class="line">      mov es:[bx+1],al</span><br><span class="line">      inc si</span><br><span class="line">      add bx,2</span><br><span class="line">      jmp short s</span><br><span class="line">ok:   iret</span><br><span class="line">insends:nop</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<p>这里的ins程序和我们之前做的show_str十分吻合，我们直接copy过来，不要忘记将子程序使用的寄存器入栈然后反序出栈。</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407185352.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407185417.png"></p>
<p>啊这个不就是书中的例子吗，自己尝试一下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">;编写安装程序 照着抄即可</span><br><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">start:mov ax,cs</span><br><span class="line">      mov ds,ax</span><br><span class="line">      mov si,offset ins             ;设置ds:si指向源程序</span><br><span class="line">      mov ax,0</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov di,200h                   ;设置es:di指向目的地址</span><br><span class="line">      mov cx,offset insends-offset ins      ;传输长度</span><br><span class="line">      cld                            ;正向传输</span><br><span class="line">      rep movsb</span><br><span class="line">      ;设置中断向量表</span><br><span class="line">      mov ax,0</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov word ptr es:[7ch*4],200h     ;两个字节存一个地址 高地址存段 低地址存偏移</span><br><span class="line">      mov word ptr es:[7ch*4+2],0</span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">  ins:push bp</span><br><span class="line">      mov bp,sp</span><br><span class="line">      dec cx</span><br><span class="line">      jcxz lpret</span><br><span class="line">      add [bp+2],bx    ;给原来的ip加上位移 </span><br><span class="line">lpret:pop bp</span><br><span class="line">      iret</span><br><span class="line">insends:nop</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<p>本来ins那里</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ins：</span><br><span class="line">      dec cx</span><br><span class="line">      jcxz lpret</span><br><span class="line">      add [sp],bx    ;给原来的ip加上位移 </span><br></pre></td></tr></table></figure>

<p>然后就出现了一个报错：must be index or base register 必须是索引寄存器或者base寄存器</p>
<p>也就是sp不能放在[]里单独使用，只有bx、si、di、bp （第八章）</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407193620.png"></p>
<p>看到后面的’$‘,不难看出下面将使用int 21的子程序</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407194103.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230407193938.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line"></span><br><span class="line">code segment</span><br><span class="line">	s1:	db &#x27;Good,better,best,&#x27;,&#x27;$&#x27;</span><br><span class="line">	s2: db &#x27;Never let it rest&#x27;,&#x27;$&#x27;</span><br><span class="line">	s3: db &#x27;Till good is better&#x27;,&#x27;$&#x27;</span><br><span class="line">	s4: db &#x27;And better,best.&#x27;,&#x27;$&#x27;</span><br><span class="line">	s : dw offset s1,offset s2,offset s3,offset s4</span><br><span class="line">	row: db 2,4,6,8</span><br><span class="line"></span><br><span class="line">strat:</span><br><span class="line">	mov ax,cs</span><br><span class="line">	mov ds,ax</span><br><span class="line">	mov bx,offset s</span><br><span class="line">	mov si,offset row</span><br><span class="line">	mov cx,4</span><br><span class="line">ok:</span><br><span class="line">	mov bh,0</span><br><span class="line">	mov dh,ds:[si]</span><br><span class="line">	mov dl,0</span><br><span class="line">	mov ah,2</span><br><span class="line">	int 10h</span><br><span class="line"></span><br><span class="line">	mov dx,ds:[bx]</span><br><span class="line">	mov ah,9</span><br><span class="line">	int 21h</span><br><span class="line"></span><br><span class="line">	add bx,2</span><br><span class="line">	int si,2</span><br><span class="line">	loop ok</span><br><span class="line"></span><br><span class="line">	mov ax,4c00h</span><br><span class="line">	int 21h</span><br><span class="line">code ends</span><br><span class="line">end strat		</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="第十四章-端口"><a href="#第十四章-端口" class="headerlink" title="第十四章 端口"></a>第十四章 端口</h1><h2 id="端口的读写"><a href="#端口的读写" class="headerlink" title="端口的读写"></a>端口的读写</h2><p>端口的读写指令只有两条，in和out，分别用于从端口读取数据和往端口写入数据</p>
<p>举个例子 （这里的in和out是针对 out就是从寄存器中出去）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov dx,3f8h ;将端口号送入dx</span><br><span class="line">in  al,dx   ;从3f8h端口读入一个字节，就是将dx中的数据送入al</span><br><span class="line">out dx,al   ;向3f8h端口写入一个字节，将al中的数据写入dx</span><br></pre></td></tr></table></figure>

<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409205632.png"></p>
<h2 id="CMOS-RAM-芯片"><a href="#CMOS-RAM-芯片" class="headerlink" title="CMOS RAM 芯片"></a>CMOS RAM 芯片</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409205749.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409205813.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov al,2</span><br><span class="line">out 70h,al</span><br><span class="line">in al,71h</span><br></pre></td></tr></table></figure>

<h2 id="逻辑位移指令-shl和shr"><a href="#逻辑位移指令-shl和shr" class="headerlink" title="逻辑位移指令 shl和shr"></a>逻辑位移指令 shl和shr</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409210214.png"></p>
<p>左移相当于x*2，右移相当于x&#x2F;2。</p>
<h2 id="实验-14-访问-CMOS-RAM"><a href="#实验-14-访问-CMOS-RAM" class="headerlink" title="实验 14 访问 CMOS RAM"></a>实验 14 访问 CMOS RAM</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409210618.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409210754.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">start:</span><br><span class="line">      mov cx,3</span><br><span class="line">      mov si,30</span><br><span class="line">   s: push cx</span><br><span class="line">      add cx,6</span><br><span class="line">      mov al,cl</span><br><span class="line">      out 70h,al</span><br><span class="line">      in al,71h</span><br><span class="line">      mov ah,al</span><br><span class="line">      mov cl,4</span><br><span class="line">      shr ah,cl</span><br><span class="line">      and al,00001111b</span><br><span class="line">      add ah,30h    ;以ascii表示</span><br><span class="line">      add al,30h</span><br><span class="line">      mov bx,0b800h</span><br><span class="line">      mov es,bx</span><br><span class="line">      mov bx,si</span><br><span class="line">      mov byte ptr es:[160*12+si+bx],ah</span><br><span class="line">      mov byte ptr es:[160*12+si+bx+2],al</span><br><span class="line">      mov byte ptr es:[160*12+si+bx+4],2fh</span><br><span class="line">      add si,3</span><br><span class="line">      pop cx</span><br><span class="line">      loop s</span><br><span class="line">      mov cx,3</span><br><span class="line">  s2: push cx</span><br><span class="line">      add cx,cx</span><br><span class="line">      sub cx,2</span><br><span class="line">      push cx</span><br><span class="line">      mov al,cl</span><br><span class="line">      out 70h,al</span><br><span class="line">      in al,71h</span><br><span class="line">      mov ah,al</span><br><span class="line">      mov cl,4</span><br><span class="line">      shr ah,cl</span><br><span class="line">      and al,00001111b</span><br><span class="line">      add ah,30h    ;以ascii表示</span><br><span class="line">      add al,30h</span><br><span class="line">      mov bx,0b800h</span><br><span class="line">      mov es,bx</span><br><span class="line">      mov bx,si</span><br><span class="line">      mov byte ptr es:[160*12+si+bx],ah</span><br><span class="line">      mov byte ptr es:[160*12+si+bx+2],al</span><br><span class="line">      pop cx</span><br><span class="line">      jcxz ok    ;如果没有这一步的化，最后秒后面会多出一个冒号</span><br><span class="line">      mov byte ptr es:[160*12+si+bx+4],3ah     ;冒号的ascii</span><br><span class="line">      add si,3</span><br><span class="line">      pop cx</span><br><span class="line">      loop s2 </span><br><span class="line">   ok:mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br><span class="line">      </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230409231300.png"></p>
<h1 id="第十五章-外中断"><a href="#第十五章-外中断" class="headerlink" title="第十五章 外中断"></a>第十五章 外中断</h1><p>用两个16位寄存器来存放32位的循环次数，这里刚开始没看懂，在网上找到了一个恍然大悟</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">   mov ds,10h</span><br><span class="line">   mov ax,0</span><br><span class="line">s: sub ax,1    ;第一次ax=fffffh，cf=1</span><br><span class="line">   sbb dx,0    ;第一次dx=fh</span><br><span class="line">   cmp ax,0</span><br><span class="line">   jne s</span><br><span class="line">   cmp dx,0</span><br><span class="line">   jne s</span><br></pre></td></tr></table></figure>

<p>上述程序实现了循环100000次。sbb dx,0 相当于dx&#x3D;dx-0-CF,每循环（ffffh+1）即10000h次，dx减1.注意这里dx减1，发生在每10000次循环的最开始哦。</p>
<h2 id="sti和cli指令"><a href="#sti和cli指令" class="headerlink" title="sti和cli指令"></a>sti和cli指令</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230410205935.png"></p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230410205945.png"></p>
<p>下面的程序用于改变全屏的显示信息非常的炫酷</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">stack segment </span><br><span class="line"> db 128 dup (0)</span><br><span class="line">stack ends</span><br><span class="line">code segment</span><br><span class="line">start:mov ax,stack</span><br><span class="line">      mov ss,ax</span><br><span class="line">      mov sp,128</span><br><span class="line">      push cs</span><br><span class="line">      pop ds</span><br><span class="line">      mov ax,0</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov si,offset int9</span><br><span class="line">      mov di,204h</span><br><span class="line">      mov cx,offset int9end-offset int9</span><br><span class="line">      cld</span><br><span class="line">      rep movsb</span><br><span class="line">      push es:[9*4]</span><br><span class="line">      pop es:[200h]</span><br><span class="line">      push es:[9*4+2]</span><br><span class="line">      pop es:[202h]</span><br><span class="line">      cli</span><br><span class="line">      mov word ptr es:[9*4],204h</span><br><span class="line">      mov word ptr es:[9*4+2],0</span><br><span class="line">      sti</span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">int9: push ax</span><br><span class="line">      push bx</span><br><span class="line">      push cx</span><br><span class="line">      push es</span><br><span class="line">      in al,60h               ;接收键入的字符</span><br><span class="line">      pushf</span><br><span class="line">      call dword ptr cs:[200h]</span><br><span class="line">      cmp al,3bh</span><br><span class="line">      jne int9ret</span><br><span class="line">      mov ax,0b800h</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov bx,1</span><br><span class="line">      mov cx,2000</span><br><span class="line">  s:  inc byte ptr es:[bx]</span><br><span class="line">      add bx,2</span><br><span class="line">      loop s</span><br><span class="line">int9ret:pop es</span><br><span class="line">        pop cx</span><br><span class="line">        pop bx</span><br><span class="line">        pop ax</span><br><span class="line">        iret</span><br><span class="line">int9end:nop</span><br><span class="line">code ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="实验-15-安装新的int9中断例程"><a href="#实验-15-安装新的int9中断例程" class="headerlink" title="实验 15 安装新的int9中断例程"></a>实验 15 安装新的int9中断例程</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230410220732.png"></p>
<p>这次实验我们只需要更改上面程序int9的部分即可，A的通码1E，断码9E</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">stack segment </span><br><span class="line"> db 128 dup (0)</span><br><span class="line">stack ends</span><br><span class="line">code segment</span><br><span class="line">start:mov ax,stack</span><br><span class="line">      mov ss,ax</span><br><span class="line">      mov sp,128</span><br><span class="line">      push cs</span><br><span class="line">      pop ds</span><br><span class="line">      mov ax,0</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov si,offset int9</span><br><span class="line">      mov di,204h</span><br><span class="line">      mov cx,offset int9end-offset int9</span><br><span class="line">      cld</span><br><span class="line">      rep movsb</span><br><span class="line">      push es:[9*4]</span><br><span class="line">      pop es:[200h]</span><br><span class="line">      push es:[9*4+2]</span><br><span class="line">      pop es:[202h]</span><br><span class="line">      cli</span><br><span class="line">      mov word ptr es:[9*4],204h</span><br><span class="line">      mov word ptr es:[9*4+2],0</span><br><span class="line">      sti</span><br><span class="line">      mov ax,4c00h</span><br><span class="line">      int 21h</span><br><span class="line">int9: push ax</span><br><span class="line">      push bx</span><br><span class="line">      push cx</span><br><span class="line">      push es</span><br><span class="line">      in al,60h               ;接收键入的字符</span><br><span class="line">      pushf</span><br><span class="line">      call dword ptr cs:[200h]</span><br><span class="line">      cmp al,1eh               ;A的通码</span><br><span class="line">      je int9ret</span><br><span class="line">      cmp al,9eh</span><br><span class="line">      jne int9ret</span><br><span class="line">      mov ax,0b800h</span><br><span class="line">      mov es,ax</span><br><span class="line">      mov bx,0</span><br><span class="line">      mov cx,2000</span><br><span class="line">  s:  mov byte ptr es:[bx],65</span><br><span class="line">      add bx,2</span><br><span class="line">      loop s</span><br><span class="line">int9ret:pop es</span><br><span class="line">        pop cx</span><br><span class="line">        pop bx</span><br><span class="line">        pop ax</span><br><span class="line">        iret</span><br><span class="line">int9end:nop</span><br><span class="line">code ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="第十六章-直接定址表"><a href="#第十六章-直接定址表" class="headerlink" title="第十六章 直接定址表"></a>第十六章 直接定址表</h1><h2 id="描述了单元长度的标号"><a href="#描述了单元长度的标号" class="headerlink" title="描述了单元长度的标号"></a>描述了单元长度的标号</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230411145516.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">code segment</span><br><span class="line">    a db 1,2,3,4,5,6,7,8</span><br><span class="line">    b dw 0</span><br><span class="line">    ;这里的a其实可以理解为数组的首地址a[0]是1</span><br></pre></td></tr></table></figure>

<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230411145837.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a:db 1,2,3,4</span><br><span class="line">b:dw 0</span><br><span class="line">;这种用法是代码段中特有的    即使用  :</span><br></pre></td></tr></table></figure>

<h2 id="将标号当作数据来使用"><a href="#将标号当作数据来使用" class="headerlink" title="将标号当作数据来使用"></a>将标号当作数据来使用</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line"> a db 1,2,3,4,5</span><br><span class="line"> b dw 0</span><br><span class="line"> c dw a,b      ;c dd a,b</span><br><span class="line">data ends</span><br></pre></td></tr></table></figure>

<p>相当于</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line"> a db 1,2,3,4,5</span><br><span class="line"> b dw 0</span><br><span class="line"> c dw offset a,offset b   ;c dw offset a,seg a,offset b,seg b</span><br><span class="line">data ends</span><br></pre></td></tr></table></figure>

<p>seg 取段地址</p>
<h2 id="实验-16"><a href="#实验-16" class="headerlink" title="实验 16"></a>实验 16</h2><p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230411122855.png"></p>
<p>具体的功能怎么实现，书中写的很清楚，我们的任务是确定整个程序的框架。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">stack segment </span><br><span class="line">   db 64 dup(0)</span><br><span class="line">stack ends</span><br><span class="line">code segment</span><br><span class="line">start:;安装新的int7ch</span><br><span class="line">mov ax,stack</span><br><span class="line">mov ss,ax</span><br><span class="line">mov sp,64</span><br><span class="line">mov ax,cs</span><br><span class="line">mov ds,ax</span><br><span class="line">mov ax,offset int7ch</span><br><span class="line">mov si,ax</span><br><span class="line">mov ax,0</span><br><span class="line">mov es,ax</span><br><span class="line">mov di,200h</span><br><span class="line">mov cx,offset int7chend-offset int7ch</span><br><span class="line">cld</span><br><span class="line">rep movsb</span><br><span class="line">cli</span><br><span class="line">mov word ptr es:[7ch*4],200h</span><br><span class="line">mov word ptr es:[7ch*4+2],0</span><br><span class="line">sti</span><br><span class="line"></span><br><span class="line">mov ax,4c00h</span><br><span class="line">int 21h</span><br><span class="line"></span><br><span class="line">int7ch:</span><br><span class="line">     jmp short set</span><br><span class="line">     table dw offset sub1-offset int7ch+200h</span><br><span class="line">           dw offset sub2-offset int7ch+200h</span><br><span class="line">           dw offset sub3-offset int7ch+200h</span><br><span class="line">           dw offset sub4-offset int7ch+200h</span><br><span class="line"> set:push bx</span><br><span class="line">     cmp ah,3</span><br><span class="line">     ja sret</span><br><span class="line">     mov bl,ah</span><br><span class="line">     mov bh,0</span><br><span class="line">     add bx,bx</span><br><span class="line">     call word ptr cs:[bx+202h] ;这里的cs是跳转到int7ch之后的cs，加202是因为前面的jmp short set占了两个字节</span><br><span class="line">sret:pop bx</span><br><span class="line">     iret</span><br><span class="line">     sub1:push bx             ;清屏</span><br><span class="line">          push cx</span><br><span class="line">          push es</span><br><span class="line">          mov bx,0b800h</span><br><span class="line">          mov es,bx</span><br><span class="line">          mov bx,0</span><br><span class="line">          mov cx,2000</span><br><span class="line">    sub1s:mov byte ptr es:[bx],&#x27; &#x27;</span><br><span class="line">          add bx,2</span><br><span class="line">          loop sub1s</span><br><span class="line">          pop es</span><br><span class="line">          pop cx</span><br><span class="line">          pop bx</span><br><span class="line">          ret</span><br><span class="line">     sub2:push bx             ;前景</span><br><span class="line">          push cx</span><br><span class="line">          push es</span><br><span class="line">          mov bx,0b800h</span><br><span class="line">          mov es,bx</span><br><span class="line">          mov bx,1</span><br><span class="line">          mov cx,2000</span><br><span class="line">    sub2s:and byte ptr es:[bx],11110000b</span><br><span class="line">          or es:[bx],al</span><br><span class="line">          add bx,2</span><br><span class="line">          loop sub2s</span><br><span class="line">          pop es</span><br><span class="line">          pop cx</span><br><span class="line">          pop bx</span><br><span class="line">          ret</span><br><span class="line">     sub3:push bx             ;背景</span><br><span class="line">          push cx</span><br><span class="line">          push es</span><br><span class="line">          mov cl,4</span><br><span class="line">          shl al,cl</span><br><span class="line">          mov bx,0b800h</span><br><span class="line">          mov es,bx</span><br><span class="line">          mov bx,1</span><br><span class="line">          mov cx,2000</span><br><span class="line">    sub3s:and byte ptr es:[bx],10001111b</span><br><span class="line">          or es:[bx],al</span><br><span class="line">          add bx,2</span><br><span class="line">          loop sub3s</span><br><span class="line">          pop es</span><br><span class="line">          pop cx</span><br><span class="line">          pop bx</span><br><span class="line">          ret</span><br><span class="line">     sub4:push cx             ;滚动</span><br><span class="line">          push si</span><br><span class="line">          push di</span><br><span class="line">          push es</span><br><span class="line">          push ds</span><br><span class="line">          mov si,0b800h</span><br><span class="line">          mov es,si</span><br><span class="line">          mov ds,si</span><br><span class="line">          mov si,160</span><br><span class="line">          mov di,0</span><br><span class="line">          cld</span><br><span class="line">          mov cx,24</span><br><span class="line">    sub4s:push cx</span><br><span class="line">          mov cx,160</span><br><span class="line">          rep movsb         ;si和di的增加在此处进行</span><br><span class="line">          pop cx</span><br><span class="line">          loop sub4s</span><br><span class="line">          mov cx,80</span><br><span class="line">          mov si,0</span><br><span class="line">   sub4s1:mov byte ptr [160*24+si],&#x27; &#x27;</span><br><span class="line">          add si,2</span><br><span class="line">          loop sub4s1</span><br><span class="line">          pop ds</span><br><span class="line">          pop es</span><br><span class="line">          pop di</span><br><span class="line">          pop si</span><br><span class="line">          pop cx</span><br><span class="line">          ret</span><br><span class="line">int7chend:nop</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<p>其实我们这里使用table的方式有点麻烦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">; table dw offset sub1-offset int7ch+200h</span><br><span class="line">           dw offset sub2-offset int7ch+200h</span><br><span class="line">           dw offset sub3-offset int7ch+200h</span><br><span class="line">           dw offset sub4-offset int7ch+200h</span><br><span class="line">;call word ptr cs:[bx+202h] </span><br><span class="line">;我们把上面这些替换成下面的</span><br><span class="line">;在int7ch前面加上 org 200h 表示偏移地址从200h处开始</span><br><span class="line">  table dw sub1,sub2,sub3,sub4</span><br><span class="line">  call word ptr table[bx]</span><br></pre></td></tr></table></figure>

<p>没加那个org 200h是不行的</p>
<p>org 200H		;表示下一条地址从偏移地址200H开始，和安装后的偏移地址相同，若没有org 200H，中断例程安装后，标号代表的地址改变了，和之前编译器编译的有所区别 </p>
<p>如果我们不加上org，那么这个table的偏移地址就是本程序中的偏移地址.可是为什么sub1，这种标号还是以200h为准的偏移？应该是因为，sub1作为一个标号能正确的复制过去，table作为一个标号复制不过去，是因为table是比较抽象的？隐式的？</p>
<p>下面这张图是org 200h的，【bx+202h】</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/Untitled.png"></p>
<p>这张图是没有org的，我们可以看到下面的【bx+36h】，加的table的偏移地址</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/Untitled2.png"></p>
<h2 id="疑惑-1"><a href="#疑惑-1" class="headerlink" title="疑惑"></a>疑惑</h2><p>为什么同样是标号，table复制过去是安装程序中的地址，sub传过去的就是200h的偏移地址？？？我觉得合理的解释是这个sub1s跟着一起复制了过去，就是第二个sub1s其实是随着第一个sub1s的变化而变化的。在程序执行完之后，主程序所占的内存被其他数据覆盖，之前的sub1消失，这么理解的话，标号代表的不一定是个固定不变的地址。</p>
<p><img src="/2023/04/12/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/QQ%E6%88%AA%E5%9B%BE20230412020235.png"></p>
<h1 id="第十七章-使用BIOS进行键盘输入和磁盘读写"><a href="#第十七章-使用BIOS进行键盘输入和磁盘读写" class="headerlink" title="第十七章 使用BIOS进行键盘输入和磁盘读写"></a>第十七章 使用BIOS进行键盘输入和磁盘读写</h1><h1 id><a href="#" class="headerlink" title></a></h1>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%B1%87%E7%BC%96/" rel="tag"># 汇编</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/03/24/csapp-lab/" rel="prev" title="csapp.lab">
      <i class="fa fa-chevron-left"></i> csapp.lab
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/05/21/%E7%BC%96%E5%86%99%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="next" title="编写虚拟机">
      编写虚拟机 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#debug%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">1.</span> <span class="nav-text">debug中的常用命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC7%E7%AB%A0-%E6%9B%B4%E7%81%B5%E6%B4%BB%E7%9A%84%E5%AE%9A%E4%BD%8D%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">2.</span> <span class="nav-text">第7章 更灵活的定位内存地址的方法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#tips-%E5%BF%AB%E9%80%9F%E7%BB%93%E6%9D%9F%E5%BE%AA%E7%8E%AF"><span class="nav-number">2.0.0.0.1.</span> <span class="nav-text">tips 快速结束循环</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC8%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9F%BA%E6%9C%AC%E9%97%AE%E9%A2%98"><span class="nav-number">3.</span> <span class="nav-text">第8章 数据处理的两个基本问题</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E8%A6%81%E5%A4%84%E7%90%86%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9C%89%E5%A4%9A%E9%95%BF"><span class="nav-number">3.0.0.0.1.</span> <span class="nav-text">指令要处理的数据有多长</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C-7"><span class="nav-number">3.0.1.</span> <span class="nav-text">实验 7</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%96%91%E6%83%91"><span class="nav-number">3.0.1.0.1.</span> <span class="nav-text">疑惑</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F%E5%B0%8F%E7%BB%93"><span class="nav-number">3.0.1.0.2.</span> <span class="nav-text">寻址方式小结</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%AB%98%E4%BD%8E%E5%AD%97%E8%8A%82%EF%BC%8C%E9%AB%98%E4%BD%8E%E4%BD%8D"><span class="nav-number">3.0.1.0.3.</span> <span class="nav-text">高低字节，高低位</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-number">4.</span> <span class="nav-text">第九章 转移指令的原理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6offeset"><span class="nav-number">4.1.</span> <span class="nav-text">操作符offeset</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4"><span class="nav-number">4.2.</span> <span class="nav-text">转移指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#jmp%E6%8C%87%E4%BB%A4"><span class="nav-number">4.2.1.</span> <span class="nav-text">jmp指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E7%9A%84%E7%9B%AE%E7%9A%84%E5%9C%B0%E5%9D%80%E5%9C%A8%E6%8C%87%E4%BB%A4%E4%B8%AD%E7%9A%84jmp%E6%8C%87%E4%BB%A4"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">转移的目的地址在指令中的jmp指令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E5%9C%B0%E5%9D%80%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84jmp%E6%8C%87%E4%BB%A4"><span class="nav-number">4.2.1.2.</span> <span class="nav-text">转移地址在内存中的jmp指令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jcxz%E6%8C%87%E4%BB%A4"><span class="nav-number">4.2.2.</span> <span class="nav-text">jcxz指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#loop%E6%8C%87%E4%BB%A4"><span class="nav-number">4.2.3.</span> <span class="nav-text">loop指令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E5%85%AB-%E5%88%86%E6%9E%90%E4%B8%80%E4%B8%AA%E5%A5%87%E6%80%AA%E7%9A%84%E7%A8%8B%E5%BA%8F"><span class="nav-number">4.3.</span> <span class="nav-text">实验八 分析一个奇怪的程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E4%B9%9D"><span class="nav-number">4.4.</span> <span class="nav-text">实验九</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E7%AB%A0-CALL%E6%8C%87%E4%BB%A4%E5%92%8CRET%E6%8C%87%E4%BB%A4"><span class="nav-number">5.</span> <span class="nav-text">第十章 CALL指令和RET指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ret%E5%92%8Cretf"><span class="nav-number">5.1.</span> <span class="nav-text">ret和retf</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CALL%E6%8C%87%E4%BB%A4"><span class="nav-number">5.2.</span> <span class="nav-text">CALL指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E6%8D%AE%E4%BD%8D%E8%BF%81%E7%A7%BB%E8%BF%9B%E8%A1%8C%E8%BD%AC%E7%A7%BB%E7%9A%84call%E6%8C%87%E4%BB%A4"><span class="nav-number">5.2.1.</span> <span class="nav-text">依据位迁移进行转移的call指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E7%9A%84%E7%9B%AE%E7%9A%84%E5%9C%B0%E5%9D%80%E5%9C%A8%E6%8C%87%E4%BB%A4%E4%B8%AD%E7%9A%84call%E6%8C%87%E4%BB%A4"><span class="nav-number">5.2.2.</span> <span class="nav-text">转移的目的地址在指令中的call指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E5%9C%B0%E5%9D%80%E5%9C%A8%E5%AF%84%E5%AD%98%E5%99%A8%E4%B8%AD%E7%9A%84call%E6%8C%87%E4%BB%A4"><span class="nav-number">5.2.3.</span> <span class="nav-text">转移地址在寄存器中的call指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E5%9C%B0%E5%9D%80%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84call%E6%8C%87%E4%BB%A4"><span class="nav-number">5.2.4.</span> <span class="nav-text">转移地址在内存中的call指令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mul%E6%8C%87%E4%BB%A4"><span class="nav-number">5.3.</span> <span class="nav-text">mul指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C-10-%E7%BC%96%E5%86%99%E5%AD%90%E7%A8%8B%E5%BA%8F"><span class="nav-number">5.4.</span> <span class="nav-text">实验 10 编写子程序</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0-%E6%A0%87%E5%BF%97%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">6.</span> <span class="nav-text">第十一章 标志寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ZF-%E6%A0%87%E5%BF%97"><span class="nav-number">6.1.</span> <span class="nav-text">ZF 标志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PF-%E6%A0%87%E5%BF%97"><span class="nav-number">6.2.</span> <span class="nav-text">PF 标志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SF-%E6%A0%87%E5%BF%97"><span class="nav-number">6.3.</span> <span class="nav-text">SF 标志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CF-%E6%A0%87%E5%BF%97"><span class="nav-number">6.4.</span> <span class="nav-text">CF 标志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OF-%E6%A0%87%E5%BF%97"><span class="nav-number">6.5.</span> <span class="nav-text">OF 标志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#adc-%E6%8C%87%E4%BB%A4"><span class="nav-number">6.6.</span> <span class="nav-text">adc 指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sbb-%E6%8C%87%E4%BB%A4"><span class="nav-number">6.7.</span> <span class="nav-text">sbb 指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cmp-%E6%8C%87%E4%BB%A4"><span class="nav-number">6.8.</span> <span class="nav-text">cmp 指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E6%B5%8B%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C%E7%9A%84%E6%9D%A1%E4%BB%B6%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4"><span class="nav-number">6.9.</span> <span class="nav-text">检测比较结果的条件转移指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DF%E6%A0%87%E5%BF%97%E5%92%8C%E4%B8%B2%E4%BC%A0%E9%80%81%E6%8C%87%E4%BB%A4"><span class="nav-number">6.10.</span> <span class="nav-text">DF标志和串传送指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pushf-%E5%92%8C-popf"><span class="nav-number">6.11.</span> <span class="nav-text">pushf 和 popf</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E5%BF%97%E5%AF%84%E5%AD%98%E5%99%A8%E5%9C%A8Debug%E4%B8%AD%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="nav-number">6.12.</span> <span class="nav-text">标志寄存器在Debug中的表示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C-11-%E7%BC%96%E5%86%99%E5%AD%90%E7%A8%8B%E5%BA%8F"><span class="nav-number">6.13.</span> <span class="nav-text">实验 11 编写子程序</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0-%E5%86%85%E4%B8%AD%E6%96%AD"><span class="nav-number">7.</span> <span class="nav-text">第十二章  内中断</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E4%B8%AD%E6%96%AD%E7%9A%84%E4%BA%A7%E7%94%9F"><span class="nav-number">7.1.</span> <span class="nav-text">内中断的产生</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E8%BF%87%E7%A8%8B"><span class="nav-number">7.2.</span> <span class="nav-text">中断过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E5%92%8Ciret%E6%8C%87%E4%BB%A4"><span class="nav-number">7.3.</span> <span class="nav-text">中断处理程序和iret指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%91%E9%87%8F%E8%A1%A8"><span class="nav-number">7.4.</span> <span class="nav-text">向量表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C-12-%E7%BC%96%E5%86%990%E5%8F%B7%E4%B8%AD%E6%96%AD%E7%9A%84%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F"><span class="nav-number">7.5.</span> <span class="nav-text">实验 12 编写0号中断的处理程序</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0-int-%E6%8C%87%E4%BB%A4"><span class="nav-number">8.</span> <span class="nav-text">第十三章 int 指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#BIOS%E5%92%8CDOS%E6%89%80%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%AD%E6%96%AD%E4%BE%8B%E7%A8%8B"><span class="nav-number">8.1.</span> <span class="nav-text">BIOS和DOS所提供的中断例程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C-13-%E7%BC%96%E5%86%99%E3%80%81%E5%BA%94%E7%94%A8%E4%B8%AD%E6%96%AD%E4%BE%8B%E7%A8%8B"><span class="nav-number">8.2.</span> <span class="nav-text">实验 13 编写、应用中断例程</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0-%E7%AB%AF%E5%8F%A3"><span class="nav-number">9.</span> <span class="nav-text">第十四章 端口</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AB%AF%E5%8F%A3%E7%9A%84%E8%AF%BB%E5%86%99"><span class="nav-number">9.1.</span> <span class="nav-text">端口的读写</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CMOS-RAM-%E8%8A%AF%E7%89%87"><span class="nav-number">9.2.</span> <span class="nav-text">CMOS RAM 芯片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E4%BD%8D%E7%A7%BB%E6%8C%87%E4%BB%A4-shl%E5%92%8Cshr"><span class="nav-number">9.3.</span> <span class="nav-text">逻辑位移指令 shl和shr</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C-14-%E8%AE%BF%E9%97%AE-CMOS-RAM"><span class="nav-number">9.4.</span> <span class="nav-text">实验 14 访问 CMOS RAM</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E4%BA%94%E7%AB%A0-%E5%A4%96%E4%B8%AD%E6%96%AD"><span class="nav-number">10.</span> <span class="nav-text">第十五章 外中断</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#sti%E5%92%8Ccli%E6%8C%87%E4%BB%A4"><span class="nav-number">10.1.</span> <span class="nav-text">sti和cli指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C-15-%E5%AE%89%E8%A3%85%E6%96%B0%E7%9A%84int9%E4%B8%AD%E6%96%AD%E4%BE%8B%E7%A8%8B"><span class="nav-number">10.2.</span> <span class="nav-text">实验 15 安装新的int9中断例程</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E5%85%AD%E7%AB%A0-%E7%9B%B4%E6%8E%A5%E5%AE%9A%E5%9D%80%E8%A1%A8"><span class="nav-number">11.</span> <span class="nav-text">第十六章 直接定址表</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%8F%E8%BF%B0%E4%BA%86%E5%8D%95%E5%85%83%E9%95%BF%E5%BA%A6%E7%9A%84%E6%A0%87%E5%8F%B7"><span class="nav-number">11.1.</span> <span class="nav-text">描述了单元长度的标号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86%E6%A0%87%E5%8F%B7%E5%BD%93%E4%BD%9C%E6%95%B0%E6%8D%AE%E6%9D%A5%E4%BD%BF%E7%94%A8"><span class="nav-number">11.2.</span> <span class="nav-text">将标号当作数据来使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C-16"><span class="nav-number">11.3.</span> <span class="nav-text">实验 16</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%96%91%E6%83%91-1"><span class="nav-number">11.4.</span> <span class="nav-text">疑惑</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%83%E7%AB%A0-%E4%BD%BF%E7%94%A8BIOS%E8%BF%9B%E8%A1%8C%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5%E5%92%8C%E7%A3%81%E7%9B%98%E8%AF%BB%E5%86%99"><span class="nav-number">12.</span> <span class="nav-text">第十七章 使用BIOS进行键盘输入和磁盘读写</span></a></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">13.</span> <span class="nav-text"></span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="fishjump"
      src="/uploads/dog.jpg">
  <p class="site-author-name" itemprop="name">fishjump</p>
  <div class="site-description" itemprop="description">一万年太久，只争朝夕</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Fishjump-MY" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Fishjump-MY" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/1745482102@qq.com" title="E-Mail → 1745482102@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        <!---->

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fishjump</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">48k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:53</span>
</div>


<script async="" src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/fireworks.js"></script>
  
  
</body>
</html>
